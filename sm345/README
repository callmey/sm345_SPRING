API 명세서

-------수정사항-------
api/mentoroom/:mid/:uid/menti_join - 멘티신청 [get] :rid- mentoroom_id / :mid- mento_id / :uid - menti_id , return: 멘티신청이 완료되었습니다
-> url수정 

api/mentoroom/:uid/menti_canceal - 멘티신청취소 [get] rid - mentoroom_id / uid - menti_id , return - 멘티신청이 취소되었습니다
-> url수정

api/mentoroom/:m_id/menti_list - 멘티목록 [get] mento_id를 보내주면 멘토목록을 조회

api/:uid/check_userauth
 -get방식. 앱 최초 실행시 user_id를 받아와서 user_auth를 조회함. (localstroage에 저장되어있는 user_auth와 다를시 로그아웃 시키기) 


api/list/:b_id/:a_id/comment/create - 댓글생성 [post] :bid- board_id / a_id- article_id 
-> comment([insert] article_id, comment_content, comment_writer)

api/list/:b_id/:a_id/c_id/edit - 댓글수정[post] :cid- comment의 id
-> comment([update] article_id, comment_content, comment_writer)

api/list/:b_id/:a_id/c_id/delete - 댓글 삭제[get]
-> comment의 id를 받아와 delete. 

api/list/:a_id/comment - 댓글 목록 [get]
-> article_id로 List 반환

api/list/:b_id/:a_id/CntComment - 댓글수 조회
-> commentMapper.CntComment에서 article_id로 댓글수조회에서 int로 반환 
---------------------



-게시판(bid-보드아이디(1.설명소개서 2.공지사항 3.Q&A게시판), aid-게시글아이디, cid-댓글아이디)
  api/list/:bid
   -get방식. board_id를 받아와 모두 보내줌
   
  api/list/:bid/:aid
   -get방식. board_id와 id를 받아와 모두 보내줌
   
  api/list/:bid/create
   -post방식. article객체를 받아와 insert
   
  api/list/:bid/:aid/delete
   -get방식. article_id를 받아와 삭제
   
  api/list/:bid/:aid/edit
   -post방식. article객체(board_id, article_title, article_content, article_writer)를 받아와 update


-댓글(:b_id- board_id / :a_id- articled의 id, :c_id- comment의 id)
   api/list/:b_id/:a_id/comment/create - 댓글생성 [post] 
-> comment([insert] article_id, comment_content, comment_writer)

api/list/:b_id/:a_id/c_id/edit - 댓글수정[post] 
-> comment([update] article_id, comment_content, comment_writer)

api/list/:b_id/:a_id/c_id/delete - 댓글 삭제[get]
-> comment의 id를 받아와 delete. 

api/list/:a_id/comment - 댓글 목록 [get]
-> article_id로 List 반환

api/list/:b_id/:a_id/CntComment - 댓글수 조회
-> commentMapper.CntComment에서 article_id로 댓글수조회에서 int로 반환 
    
    
-멘토방(rid->mentoroom_id)
  
 api/mentoroom - 멘토방목록 / 관리자페이지 멘토방목록
  -get방식. mentoroom의 모든 디비를 리스트 형식으로 긁어옴.
 
 api/mentoroom/create - 멘토신청
  -post방식. 입력폼에 입력된 데이터를 mentoroom객체로 받아옴. 학기와 년도는 date타입으로 현재 시간을 받아와서 저장함.
 
 api/mentoroom/:rid - 멘토방 조회
  -get방식. 해당 mentoroon_id를 받아와 조회 후 모두 리턴.
  
 api/mentoroom/:rid/confirm - 멘토신청승인
  -post방식. 해당  mentoroom객체로 mentoroom_id를 받아와 team_confirm을 1로 업데이트 / mentoroom객체로 mento_id를 받아와 user_auth를 1로 업데이트(멘토로승격) 
  
 api/mentoroom/:rid/reject - 멘토승인거절
  -get방식. 해당 mentoroom_id를 받아와 db 삭제
  
 api/mentoroom/:mid/:uid/menti_join - 멘티신청 [get] :rid- mentoroom_id / :mid- mento_id / :uid - menti_id , return: 멘티신청이 완료되었습니다
  
 api/mentoroom/:uid/menti_canceal - 멘티신청취소 [get] rid - mentoroom_id / uid - menti_id , return - 멘티신청이 취소되었습니다

 api/mentoroom/:rid/report/upload - 보고서 제출
 api/mentoroom/:rid/report/download - 보고서 다운로드

-관리자
 api/admin/user/:auth - 사용자목록  :auth = 앱에서 value 값! (0.전체학생(일반학생+멘토+멘티) 1.멘토 2.멘티 3.관리자 4.보고서제출안한멘토)
  -get형식. user_auth로 findAll. 

api/admin/room_info - 멘토방 설정목록 get 형식
api/admin/room_info/create - 멘토방 설정 생성 post형식
api/admin/room_info/delete - 멘토방 설정 삭제 post형식

api/admin/report - 보고서목록
api/admin/survey - 설문조사

api/admin/
api/admin/

-쪽지함
api/message/list/:uid - 쪽지함목록  get 형식.  messageMapper.selectByToTd(사용자아이디(u_id)) 리스트로 불러옴.
api/message/username/:uid - 쪽지함 to_id -> user_name 설정  사용자아이디: uid post형식 
api/message/create - 쪽지함 생성  post형식 
api/message/:mid/delete - 쪽지 삭제. get방식. 메세지의 id를 받아와 삭제
api/message/:mid - 쪽지 조회. get방식. 메세지의 id를 받아와 조회함


-기타
api/updatepassword - 비밀번호변경
 -post방식. user객체에 변경할 비밀번호와 user_id를 받아옴.
  login_record가 1이면 (로그인한적있음-메뉴에 비밀번호변경을 누른상태) 비밀번호를 변경하고,
  login_record가 0이면 (로그인한적없음-최초로그인) 비밀번호 변경 후 user_id, user_auth, user_name을 담아서 보내줌
  
api/login - 로그인
 -post방식. user객체에 비밀번호와 아이디를 받아옴. 저장되어있는 비밀번호와 입력한 비밀번호가 맞는지 확인 후 user_id, user_auth, user_name을 담아서 보내줌
  user_auth - 1.멘토 2.멘티 3.관리자

api/login_record/:uid - 로그인기록조회
 -post방식. user_id를 받아와서 로그인기록을 조회함. + service 내용 추가. 로그인 에러 수정.
 
api/:uid/check_userauth
 -get방식. 앱 최초 실행시 user_id를 받아와서 user_auth를 조회함. (localstroage에 저장되어있는 user_auth와 다를시 로그아웃 시키기)
 